<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Modal Dialog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        secondary: {
                            50: '#f5f9ff',
                            100: '#ede9fe',
                            200: '#ddd6fe',
                            300: '#c4b5fd',
                            400: '#a78bfa',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                            700: '#6d28d9',
                            800: '#5b21b6',
                            900: '#4c1d95',
                        },
                        dark: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out forwards',
                        'fade-out': 'fadeOut 0.3s ease-in forwards',
                        'slide-in': 'slideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards',
                        'slide-out': 'slideOut 0.4s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: 0 },
                            '100%': { opacity: 1 },
                        },
                        fadeOut: {
                            '0%': { opacity: 1 },
                            '100%': { opacity: 0 },
                        },
                        slideIn: {
                            '0%': { transform: 'translateY(-20px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        },
                        slideOut: {
                            '0%': { transform: 'translateY(0)', opacity: 1 },
                            '100%': { transform: 'translateY(-20px)', opacity: 0 },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
        
        .modal-content {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border-radius: 1.5rem;
            overflow: hidden;
        }
        
        .modal-overlay {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        
        .modal-content {
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .modal-header {
            transition: background-color 0.3s ease;
        }
        
        .close-btn {
            transition: all 0.2s ease;
        }
        
        .close-btn:hover {
            transform: scale(1.1);
            background-color: rgba(0, 0, 0, 0.1);
        }
        
        .modal-body {
            transition: opacity 0.3s ease;
        }
        
        .modal-footer {
            transition: background-color 0.3s ease;
        }
        
        .btn-primary {
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary {
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover {
            background-color: #cbd5e1;
        }
        
        .focus-visible {
            outline: 3px solid #0ea5e9;
            outline-offset: 2px;
        }
        
        @media (prefers-reduced-motion: reduce) {
            .modal-content {
                animation: none;
            }
        }
    </style>
</head>
<body>
    <div class="max-w-4xl mx-auto p-6">
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-dark-900 mb-4">Accessible Modal Demo</h1>
            <p class="text-lg text-dark-600 max-w-2xl mx-auto">
                This modal demonstrates smooth animations, keyboard navigation, and accessibility features. 
                Click the button below to open the modal.
            </p>
        </div>
        
        <div class="bg-white rounded-2xl shadow-xl p-8 max-w-2xl mx-auto">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-dark-800">Modal Features</h2>
                <div class="flex space-x-4">
                    <div class="flex items-center">
                        <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                        <span class="text-sm text-dark-600">Keyboard Accessible</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                        <span class="text-sm text-dark-600">Smooth Animations</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                        <span class="text-sm text-dark-600">Responsive Design</span>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="bg-primary-50 p-6 rounded-xl">
                    <div class="text-primary-600 mb-4">
                        <i class="fas fa-keyboard text-2xl"></i>
                    </div>
                    <h3 class="font-semibold text-lg mb-2">Keyboard Navigation</h3>
                    <p class="text-dark-600 text-sm">
                        The modal is fully navigable using Tab, Shift+Tab, and Arrow keys. 
                        The Escape key closes the modal.
                    </p>
                </div>
                
                <div class="bg-secondary-50 p-6 rounded-xl">
                    <div class="text-secondary-600 mb-4">
                        <i class="fas fa-film text-2xl"></i>
                    </div>
                    <h3 class="font-semibold text-lg mb-2">Smooth Animations</h3>
                    <p class="text-dark-600 text-sm">
                        The modal features cubic-bezier easing for natural, smooth opening and closing animations.
                    </p>
                </div>
                
                <div class="bg-dark-50 p-6 rounded-xl">
                    <div class="text-dark-600 mb-4">
                        <i class="fas fa-universal-access text-2xl"></i>
                    </div>
                    <h3 class="font-semibold text-lg mb-2">Accessibility</h3>
                    <p class="text-dark-600 text-sm">
                        Proper ARIA attributes ensure the modal is accessible to all users, 
                        including those using screen readers.
                    </p>
                </div>
                
                <div class="bg-primary-50 p-6 rounded-xl">
                    <div class="text-primary-600 mb-4">
                        <i class="fas fa-mobile-alt text-2xl"></i>
                    </div>
                    <h3 class="font-semibold text-lg mb-2">Responsive Design</h3>
                    <p class="text-dark-600 text-sm">
                        The modal adapts to all screen sizes with appropriate spacing and sizing.
                    </p>
                </div>
            </div>
            
            <div class="text-center">
                <button id="openModalBtn" class="btn-primary bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-8 rounded-lg transition-all duration-200">
                    Open Accessible Modal
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Dialog -->
    <div id="modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <div class="modal-backdrop absolute inset-0"></div>
        
        <div class="relative z-10 w-full max-w-2xl">
            <div class="modal-overlay absolute inset-0 bg-black bg-opacity-50"></div>
            
            <div class="modal-content bg-white rounded-2xl overflow-hidden shadow-2xl">
                <div class="modal-header bg-primary-600 text-white p-6">
                    <div class="flex justify-between items-center">
                        <h3 class="text-xl font-bold">Create New Project</h3>
                        <button id="closeModalBtn" class="close-btn text-white hover:text-primary-200 focus:outline-none">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <div class="modal-body p-6">
                    <form class="space-y-6">
                        <div>
                            <label for="projectName" class="block text-dark-700 font-medium mb-2">Project Name</label>
                            <input 
                                type="text" 
                                id="projectName" 
                                class="w-full px-4 py-3 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent focus-visible"
                                placeholder="Enter project name"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="projectType" class="block text-dark-700 font-medium mb-2">Project Type</label>
                            <select 
                                id="projectType" 
                                class="w-full px-4 py-3 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent focus-visible"
                            >
                                <option value="">Select project type</option>
                                <option value="web">Web Application</option>
                                <option value="mobile">Mobile App</option>
                                <option value="desktop">Desktop Software</option>
                                <option value="api">API Service</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="projectDescription" class="block text-dark-700 font-medium mb-2">Description</label>
                            <textarea 
                                id="projectDescription" 
                                rows="4" 
                                class="w-full px-4 py-3 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent focus-visible"
                                placeholder="Describe your project"
                            ></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-dark-700 font-medium mb-2">Team Members</label>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                <div class="flex items-center">
                                    <input type="checkbox" id="member1" class="mr-2 h-4 w-4 text-primary-600 rounded">
                                    <label for="member1" class="text-dark-600">John Doe</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="member2" class="mr-2 h-4 w-4 text-primary-600 rounded">
                                    <label for="member2" class="text-dark-600">Jane Smith</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="member3" class="mr-2 h-4 w-4 text-primary-600 rounded">
                                    <label for="member3" class="text-dark-600">Alex Johnson</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="member4" class="mr-2 h-4 w-4 text-primary-600 rounded">
                                    <label for="member4" class="text-dark-600">Sam Wilson</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                
                <div class="modal-footer bg-dark-50 p-6 flex justify-between">
                    <button id="cancelBtn" class="btn-secondary text-dark-700 font-medium py-2 px-6 rounded-lg transition-colors">
                        Cancel
                    </button>
                    <button id="submitBtn" class="btn-primary bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-6 rounded-lg transition-colors">
                        Create Project
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('modal');
            const openBtn = document.getElementById('openModalBtn');
            const closeBtn = document.getElementById('closeModalBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            const submitBtn = document.getElementById('submitBtn');
            const backdrop = document.querySelector('.modal-backdrop');
            const modalOverlay = document.querySelector('.modal-overlay');
            
            // Focus management
            let focusedElement = null;
            
            // Open modal
            openBtn.addEventListener('click', function() {
                // Trap focus inside modal
                document.body.classList.add('overflow-hidden');
                document.querySelectorAll('button, input, select, textarea, [tabindex]:not([tabindex="-1"])').forEach(el => {
                    el.setAttribute('tabindex', '-1');
                });
                
                // Save focus position
                focusedElement = document.activeElement;
                
                // Open modal with animation
                setTimeout(() => {
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                    backdrop.classList.remove('hidden');
                    modalOverlay.classList.remove('hidden');
                    
                    // Trigger reflow to enable animation
                    void modal.content.offsetWidth;
                    modal.content.style.animation = 'slideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards';
                }, 10);
            });
            
            // Close modal
            function closeModal() {
                // Save focus position
                focusedElement = document.activeElement;
                
                // Close modal with animation
                modal.content.style.animation = 'slideOut 0.4s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards';
                
                // Remove animation class after it completes
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    backdrop.classList.add('hidden');
                    modalOverlay.classList.add('hidden');
                    
                    // Restore focus
                    if (focusedElement) {
                        focusedElement.focus();
                    }
                    
                    // Remove focus trap
                    document.body.classList.remove('overflow-hidden');
                }, 400);
            }
            
            // Event listeners
            closeBtn.addEventListener('click', closeModal);
            cancelBtn.addEventListener('click', closeModal);
            
            // Close modal when clicking outside content
            backdrop.addEventListener('click', function(e) {
                if (e.target === backdrop) {
                    closeModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModal();
                }
            });
            
            // Close modal with Enter key on buttons
            submitBtn.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    // Handle form submission
                    alert('Project created successfully!');
                    closeModal();
                }
            });
            
            // Keyboard navigation inside modal
            modal.addEventListener('keydown', function(e) {
                if (modal.classList.contains('hidden')) return;
                
                const tabKey = 9;
                const arrowKeys = [37, 38, 39, 40];
                
                // Trap focus inside modal
                if (e.key === 'Tab') {
                    const elements = modal.querySelectorAll('button, input, select, textarea, [tabindex]:not([tabindex="-1"])');
                    const focusedIndex = Array.from(elements).findIndex(el => el === document.activeElement);
                    
                    if (e.shiftKey && focusedIndex === 0) {
                        // Shift+Tab at first element -> focus last element
                        elements[elements.length - 1].focus();
                    } else if (!e.shiftKey && focusedIndex === elements.length - 1) {
                        // Tab at last element -> focus first element
                        elements[0].focus();
                    }
                }
                
                // Handle arrow keys for form elements
                if (arrowKeys.includes(e.keyCode)) {
                    const elements = modal.querySelectorAll('button, input, select, textarea');
                    const focusedIndex = Array.from(elements).findIndex(el => el === document.activeElement);
                    
                    if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                        const nextIndex = (focusedIndex + 1) % elements.length;
                        elements[nextIndex].focus();
                    } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                        const prevIndex = (focusedIndex - 1 + elements.length) % elements.length;
                        elements[prevIndex].focus();
                    }
                }
            });
        });
    </script>
</body>
</html>