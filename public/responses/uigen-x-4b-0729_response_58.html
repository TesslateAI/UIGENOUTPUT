<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatSphere - Modern Chat App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/emojify.js@2.1.2/dist/emojify.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Manrope:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Light Theme */
            --bg-primary-light: #f8fafc;
            --bg-secondary-light: #ffffff;
            --bg-tertiary-light: #f1f5f9;
            --text-primary-light: #0f172a;
            --text-secondary-light: #475569;
            --text-muted-light: #94a3b8;
            --text-accent-light: #4f46e5;
            --border-light: #e2e8f0;
            --border-secondary-light: #cbd5e1;
            --accent-light: #818cf8;
            --send-btn-light: #4f46e5;
            --typing-indicator-light: #cbd5e1;
            
            /* Dark Theme */
            --bg-primary-dark: #0f172a;
            --bg-secondary-dark: #1e293b;
            --bg-tertiary-dark: #1e293b;
            --text-primary-dark: #f1f5f9;
            --text-secondary-dark: #cbd5e1;
            --text-muted-dark: #94a3b8;
            --text-accent-dark: #818cf8;
            --border-dark: #334155;
            --border-secondary-dark: #475569;
            --accent-dark: #7c3aed;
            --send-btn-dark: #6366f1;
            --typing-indicator-dark: #475569;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary-light);
            color: var(--text-primary-light);
            transition: background-color 0.3s, color 0.3s;
        }

        .dark body {
            background-color: var(--bg-primary-dark);
            color: var(--text-primary-dark);
        }

        .bg-primary { background-color: var(--bg-primary-light); }
        .dark .bg-primary { background-color: var(--bg-primary-dark); }
        
        .bg-secondary { background-color: var(--bg-secondary-light); }
        .dark .bg-secondary { background-color: var(--bg-secondary-dark); }

        .bg-tertiary { background-color: var(--bg-tertiary-light); }
        .dark .bg-tertiary { background-color: var(--bg-tertiary-dark); }

        .text-primary { color: var(--text-primary-light); }
        .dark .text-primary { color: var(--text-primary-dark); }

        .text-secondary { color: var(--text-secondary-light); }
        .dark .text-secondary { color: var(--text-secondary-dark); }

        .text-muted { color: var(--text-muted-light); }
        .dark .text-muted { color: var(--text-muted-dark); }

        .text-accent { color: var(--text-accent-light); }
        .dark .text-accent { color: var(--text-accent-dark); }

        .border-primary { border-color: var(--border-light); }
        .dark .border-primary { border-color: var(--border-dark); }

        .border-secondary { border-color: var(--border-secondary-light); }
        .dark .border-secondary { border-color: var(--border-secondary-dark); }

        .bg-accent { background-color: var(--accent-light); }
        .dark .bg-accent { background-color: var(--accent-dark); }

        .send-btn { background-color: var(--send-btn-light); }
        .dark .send-btn { background-color: var(--send-btn-dark); }
        
        .typing-indicator { background-color: var(--typing-indicator-light); }
        .dark .typing-indicator { background-color: var(--typing-indicator-dark); }

        .message-sent {
            background-color: var(--accent-light);
        }
        .dark .message-sent {
            background-color: var(--accent-dark);
        }

        .message-received {
            background-color: var(--bg-tertiary-light);
        }
        .dark .message-received {
            background-color: var(--bg-tertiary-dark);
        }

        .typing-cursor {
            display: inline-block;
            width: 6px;
            height: 6px;
            background-color: var(--text-muted-light);
            border-radius: 50%;
            margin-left: 4px;
            animation: typing 1.4s infinite;
        }
        .dark .typing-cursor {
            background-color: var(--text-muted-dark);
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-4px); }
        }

        .emoji-picker {
            max-height: 300px;
            overflow-y: auto;
        }

        .emoji-item {
            transition: all 0.2s;
        }

        .emoji-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0,0,0.1);
        }

        .dark .emoji-item:hover {
            box-shadow: 0 4px 6px rgba(0, 0,0,0.3);
        }

        .chat-container {
            height: calc(100vh - 120px);
        }

        .message-input:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--accent-light);
        }
        .dark .message-input:focus {
            box-shadow: 0 0 0 2px var(--accent-dark);
        }

        .typing-indicator {
            display: none;
        }

        .typing-indicator.active {
            display: flex;
        }

        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: var(--typing-indicator-light);
            border-radius: 50%;
            margin: 0 2px;
            animation: typing-dot 1.4s infinite;
        }
        .dark .typing-indicator span {
            background-color: var(--typing-indicator-dark);
        }

        @keyframes typing-dot {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-4px); }
            60% { transform: translateY(-2px); }
        }

        .typing-indicator span:nth-child(1) { animation-delay: 0s; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
    </style>
</head>
<body class="bg-primary text-primary font-inter">
    <div class="flex flex-col h-screen max-w-4xl mx-auto">
        <!-- Header -->
        <header class="bg-secondary border-b border-primary p-4 flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="relative">
                    <div class="w-10 h-10 rounded-full bg-accent flex items-center justify-center text-white font-bold">JS</div>
                    <div class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-secondary"></div>
                </div>
                <div>
                    <h1 class="font-bold text-lg">John Smith</h1>
                    <p class="text-xs text-muted">Online now</p>
                </div>
            </div>
            
            <div class="flex items-center space-x-4">
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-tertiary transition-colors">
                    <i class="fas fa-moon text-muted"></i>
                </button>
                <button class="p-2 rounded-full hover:bg-tertiary transition-colors">
                    <i class="fas fa-phone text-muted"></i>
                </button>
                <button class="p-2 rounded-full hover:bg-tertiary transition-colors">
                    <i class="fas fa-ellipsis-h text-muted"></i>
                </button>
            </div>
        </header>

        <!-- Chat Area -->
        <div class="flex flex-col flex-1 overflow-hidden">
            <!-- Chat Messages -->
            <div class="flex-1 overflow-y-auto p-4 space-y-4 chat-container" id="chat-messages">
                <!-- Date separator -->
                <div class="flex items-center my-6">
                    <div class="flex-1 h-px bg-border"></div>
                    <span class="px-4 text-sm text-muted">Today</span>
                    <div class="flex-1 h-px bg-border"></div>
                </div>
                
                <!-- Received message -->
                <div class="message-received rounded-2xl rounded-tl-none max-w-[80%] p-4 flex items-start">
                    <div class="w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-bold mr-3 flex-shrink-0">JS</div>
                    <div>
                        <p>Hey there! How's the project going?</p>
                        <p class="text-xs text-muted mt-1">10:24 AM</p>
                    </div>
                </div>
                
                <!-- Sent message -->
                <div class="message-sent rounded-2xl rounded-tr-none max-w-[80%] p-4 flex items-start">
                    <div class="text-white mr-3">
                        <i class="fas fa-check-double"></i>
                    </div>
                    <div>
                        <p>It's going well! Just finished the UI design. What do you think?</p>
                        <p class="text-xs text-muted mt-1">10:26 AM</p>
                    </div>
                </div>
                
                <!-- Received message with image -->
                <div class="message-received rounded-2xl rounded-tl-none max-w-[80%] p-4 flex items-start">
                    <div class="w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-bold mr-3 flex-shrink-0">JS</div>
                    <div>
                        <p>Looks amazing! I really like the color scheme and layout.</p>
                        <p class="text-xs text-muted mt-1">10:27 AM</p>
                    </div>
                </div>
                
                <!-- Sent message -->
                <div class="message-sent rounded-2xl rounded-tr-none max-w-[80%] p-4 flex items-start">
                    <div class="text-white mr-3">
                        <i class="fas fa-check"></i>
                    </div>
                    <div>
                        <p>Thanks! I'm working on adding the backend integration now. Should have it done by EOD.</p>
                        <p class="text-xs text-muted mt-1">10:28 AM</p>
                    </div>
                </div>
                
                <!-- Typing indicator -->
                <div class="typing-indicator typing-indicator rounded-2xl rounded-tl-none p-4 flex items-start">
                    <div class="w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-bold mr-3 flex-shrink-0">JS</div>
                    <div>
                        <div class="typing-dot-container">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Input Area -->
            <div class="border-t border-primary p-3 bg-secondary">
                <div class="flex items-center space-x-2">
                    <button id="emoji-button" class="p-2 rounded-full hover:bg-tertiary transition-colors">
                        <i class="fas fa-smile text-muted"></i>
                    </button>
                    <div id="emoji-picker" class="emoji-picker absolute right-12 bottom-10 w-64 bg-secondary rounded-lg shadow-lg p-2 hidden">
                        <div class="flex space-x-2 overflow-x-auto pb-2">
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="😀">😀</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="😂">😂</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="😍">😍</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="😎">😎</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="👍">👍</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="👋">👋</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="🎉">🎉</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="🔥">🔥</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="✨">✨</div>
                            <div class="emoji-item text-2xl mx-1 cursor-pointer" data-emoji="💡">💡</div>
                        </div>
                    </div>
                    <input type="text" id="message-input" class="message-input flex-1 bg-tertiary border border-primary rounded-full px-4 py-2 text-primary focus:ring-0" placeholder="Type a message...">
                    <button id="send-button" class="send-btn w-12 h-12 rounded-full flex items-center justify-center text-white">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            const icon = themeToggle.querySelector('i');
            
            if (isDark) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        });

        // Emoji picker functionality
        const emojiButton = document.getElementById('emoji-button');
        const emojiPicker = document.getElementById('emoji-picker');
        
        emojiButton.addEventListener('click', () => {
            emojiPicker.classList.toggle('hidden');
        });

        // Close emoji picker when clicking outside
        document.addEventListener('click', (e) => {
            if (!emojiButton.contains(e.target) && !emojiPicker.contains(e.target)) {
                emojiPicker.classList.add('hidden');
            }
        });

        // Send message functionality
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-button');
        const chatMessages = document.getElementById('chat-messages');
        const typingIndicator = document.querySelector('.typing-indicator');
        
        // Function to add a new message to the chat
        function addMessage(text, isSent = true) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message-received', 'rounded-2xl', 'p-4', 'flex', 'items-start');
            
            if (isSent) {
                messageDiv.classList.add('message-sent', 'rounded-tr-none');
                messageDiv.innerHTML = `
                    <div class="text-white mr-3">
                        <i class="fas fa-check"></i>
                    </div>
                    <div>
                        <p>${text}</p>
                        <p class="text-xs text-muted mt-1">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</p>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-bold mr-3 flex-shrink-0">JS</div>
                    <div>
                        <p>${text}</p>
                        <p class="text-xs text-muted mt-1">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</p>
                    </div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Function to show typing indicator
        function showTypingIndicator() {
            typingIndicator.classList.add('active');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Function to hide typing indicator
        function hideTypingIndicator() {
            typingIndicator.classList.remove('active');
        }
        
        // Send message on button click
        sendButton.addEventListener('click', () => {
            const message = messageInput.value.trim();
            if (message) {
                addMessage(message, true);
                messageInput.value = '';
                
                // Simulate typing indicator
                showTypingIndicator();
                setTimeout(() => {
                    hideTypingIndicator();
                    // Simulate received message
                    setTimeout(() => {
                        addMessage("Thanks for your message! I'll get back to you soon.", false);
                    }, 1000);
                }, 2000);
            }
        });
        
        // Send message on Enter key
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendButton.click();
            }
        });
        
        // Initialize chat
        chatMessages.scrollTop = chatMessages.scrollHeight;
    </script>
</body>
</html>