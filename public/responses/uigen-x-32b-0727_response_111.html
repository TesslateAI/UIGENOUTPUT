<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow - Modern To-Do List</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --color-bg-dark: #0D0D0D;
            --color-text-light: #FFFFFF;
            --color-text-muted: #8A8A8A;
            --color-text-dark: #0D0D0D;
            --color-primary: #82FF1C;
            --color-primary-gradient-start: #4AFF66;
            --color-primary-gradient-end: #82FF1C;
            --color-accent: #FF462E;
            --color-surface-muted: #262626;
            --color-surface-dark: #121212;
            --color-surface-overlay: rgba(255, 255, 255, 0.05);
            --color-surface-light: #F8F8F8;
            --color-border-light: rgba(255, 255, 255, 0.1);
            --font-primary: 'Poppins', sans-serif;
            --font-secondary: 'Inter', sans-serif;
        }

        body {
            background-color: var(--color-bg-dark);
            color: var(--color-text-light);
            font-family: var(--font-secondary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .font-poppins { font-family: var(--font-primary); }
        .font-inter { font-family: var(--font-secondary); }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--color-surface-dark);
        }
        ::-webkit-scrollbar-thumb {
            background-color: var(--color-primary);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background-color: var(--color-primary-gradient-start);
        }

        /* Animation classes */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .task-item {
            transition: all 0.3s ease;
        }
        
        .task-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .priority-high {
            border-left: 4px solid var(--color-accent);
        }
        
        .priority-medium {
            border-left: 4px solid #FFB74D;
        }
        
        .priority-low {
            border-left: 4px solid var(--color-primary);
        }
        
        .completed-task {
            opacity: 0.7;
            text-decoration: line-through;
        }
        
        .reminder-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 70, 46, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 70, 46, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 70, 46, 0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-[var(--color-bg-dark)] text-[var(--color-text-light)] font-inter min-h-screen">
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-[var(--color-bg-dark)] border-b border-[var(--color-border-light)]">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <a href="#" class="text-2xl font-poppins font-bold text-[var(--color-text-light)] flex items-center">
                    <i class="fas fa-tasks text-[var(--color-primary)] mr-2"></i>
                    TaskFlow
                </a>
                <div class="flex items-center space-x-4">
                    <button id="theme-toggle" class="p-2 rounded-full hover:bg-[var(--color-surface-muted)]">
                        <i class="fas fa-moon text-[var(--color-text-muted)]"></i>
                    </button>
                    <button id="add-task-btn" class="bg-[var(--color-primary)] text-[var(--color-text-dark)] px-5 py-2.5 rounded-full font-poppins font-semibold text-sm hover:opacity-90 transition-opacity">
                        <i class="fas fa-plus mr-2"></i> New Task
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-24 pb-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Stats Section -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                <div class="bg-[var(--color-surface-muted)] p-6 rounded-xl animate-on-scroll">
                    <div class="flex items-center">
                        <div class="bg-[var(--color-primary)] bg-opacity-20 p-3 rounded-lg mr-4">
                            <i class="fas fa-tasks text-[var(--color-primary)] text-xl"></i>
                        </div>
                        <div>
                            <p class="text-[var(--color-text-muted)] text-sm">Total Tasks</p>
                            <p class="text-2xl font-bold" id="total-tasks">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-[var(--color-surface-muted)] p-6 rounded-xl animate-on-scroll" style="transition-delay: 0.1s;">
                    <div class="flex items-center">
                        <div class="bg-[#4AFF66] bg-opacity-20 p-3 rounded-lg mr-4">
                            <i class="fas fa-check-circle text-[#4AFF66] text-xl"></i>
                        </div>
                        <div>
                            <p class="text-[var(--color-text-muted)] text-sm">Completed</p>
                            <p class="text-2xl font-bold" id="completed-tasks">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-[var(--color-surface-muted)] p-6 rounded-xl animate-on-scroll" style="transition-delay: 0.2s;">
                    <div class="flex items-center">
                        <div class="bg-[var(--color-accent)] bg-opacity-20 p-3 rounded-lg mr-4">
                            <i class="fas fa-exclamation-triangle text-[var(--color-accent)] text-xl"></i>
                        </div>
                        <div>
                            <p class="text-[var(--color-text-muted)] text-sm">Pending</p>
                            <p class="text-2xl font-bold" id="pending-tasks">0</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Task Input Section -->
            <div id="task-form-container" class="bg-[var(--color-surface-muted)] rounded-xl p-6 mb-8 hidden animate-on-scroll">
                <h3 class="font-poppins text-xl font-semibold mb-4">Add New Task</h3>
                <form id="task-form" class="space-y-4">
                    <div>
                        <label class="block text-sm text-[var(--color-text-muted)] mb-1">Task Name</label>
                        <input type="text" id="task-name" required class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-[var(--color-text-muted)] mb-1">Due Date</label>
                            <input type="date" id="due-date" class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                        </div>
                        
                        <div>
                            <label class="block text-sm text-[var(--color-text-muted)] mb-1">Priority</label>
                            <select id="priority" class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm text-[var(--color-text-muted)] mb-1">Reminder</label>
                        <div class="flex items-center space-x-2">
                            <input type="checkbox" id="reminder-toggle" class="rounded text-[var(--color-primary)] focus:ring-[var(--color-primary)]">
                            <label for="reminder-toggle" class="text-sm">Set reminder</label>
                        </div>
                        <div id="reminder-time-container" class="mt-2 hidden">
                            <label class="block text-sm text-[var(--color-text-muted)] mb-1">Reminder Time</label>
                            <input type="time" id="reminder-time" class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3 pt-2">
                        <button type="button" id="cancel-task" class="px-5 py-2.5 rounded-lg font-medium border border-[var(--color-border-light)] hover:bg-[var(--color-surface-dark)]">Cancel</button>
                        <button type="submit" class="bg-[var(--color-primary)] text-[var(--color-text-dark)] px-5 py-2.5 rounded-lg font-semibold hover:opacity-90">Add Task</button>
                    </div>
                </form>
            </div>
            
            <!-- Task List -->
            <div class="bg-[var(--color-surface-muted)] rounded-xl p-6 animate-on-scroll">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="font-poppins text-2xl font-semibold">Your Tasks</h2>
                    <div class="flex space-x-2">
                        <button id="filter-all" class="px-4 py-2 rounded-lg bg-[var(--color-primary)] text-[var(--color-text-dark)] font-medium">All</button>
                        <button id="filter-active" class="px-4 py-2 rounded-lg bg-[var(--color-surface-dark)] hover:bg-[var(--color-surface-overlay)] font-medium">Active</button>
                        <button id="filter-completed" class="px-4 py-2 rounded-lg bg-[var(--color-surface-dark)] hover:bg-[var(--color-surface-overlay)] font-medium">Completed</button>
                    </div>
                </div>
                
                <div id="task-list" class="space-y-4 max-h-[500px] overflow-y-auto pr-2">
                    <!-- Tasks will be dynamically added here -->
                    <div class="text-center py-12 text-[var(--color-text-muted)]" id="empty-state">
                        <i class="fas fa-check-circle text-4xl mb-4 opacity-30"></i>
                        <p>No tasks yet. Add your first task to get started!</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Task Modal -->
    <div id="task-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-[var(--color-surface-muted)] rounded-xl w-full max-w-md p-6 animate-on-scroll">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-poppins text-xl font-semibold">Edit Task</h3>
                <button id="close-modal" class="text-[var(--color-text-muted)] hover:text-[var(--color-text-light)]">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="edit-task-form" class="space-y-4">
                <input type="hidden" id="edit-task-id">
                
                <div>
                    <label class="block text-sm text-[var(--color-text-muted)] mb-1">Task Name</label>
                    <input type="text" id="edit-task-name" required class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-[var(--color-text-muted)] mb-1">Due Date</label>
                        <input type="date" id="edit-due-date" class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                    </div>
                    
                    <div>
                        <label class="block text-sm text-[var(--color-text-muted)] mb-1">Priority</label>
                        <select id="edit-priority" class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm text-[var(--color-text-muted)] mb-1">Reminder</label>
                    <div class="flex items-center space-x-2">
                        <input type="checkbox" id="edit-reminder-toggle" class="rounded text-[var(--color-primary)] focus:ring-[var(--color-primary)]">
                        <label for="edit-reminder-toggle" class="text-sm">Set reminder</label>
                    </div>
                    <div id="edit-reminder-time-container" class="mt-2 hidden">
                        <label class="block text-sm text-[var(--color-text-muted)] mb-1">Reminder Time</label>
                        <input type="time" id="edit-reminder-time" class="w-full bg-[var(--color-surface-dark)] border border-[var(--color-border-light)] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]">
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 pt-2">
                    <button type="button" id="delete-task" class="px-5 py-2.5 rounded-lg font-medium bg-[var(--color-accent)] bg-opacity-20 text-[var(--color-accent)] hover:bg-opacity-30">
                        <i class="fas fa-trash mr-2"></i> Delete
                    </button>
                    <button type="submit" class="bg-[var(--color-primary)] text-[var(--color-text-dark)] px-5 py-2.5 rounded-lg font-semibold hover:opacity-90">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM Elements
            const taskFormContainer = document.getElementById('task-form-container');
            const taskForm = document.getElementById('task-form');
            const addTaskBtn = document.getElementById('add-task-btn');
            const cancelTaskBtn = document.getElementById('cancel-task');
            const taskList = document.getElementById('task-list');
            const emptyState = document.getElementById('empty-state');
            const totalTasksEl = document.getElementById('total-tasks');
            const completedTasksEl = document.getElementById('completed-tasks');
            const pendingTasksEl = document.getElementById('pending-tasks');
            const themeToggle = document.getElementById('theme-toggle');
            const reminderToggle = document.getElementById('reminder-toggle');
            const editReminderToggle = document.getElementById('edit-reminder-toggle');
            const reminderTimeContainer = document.getElementById('reminder-time-container');
            const editReminderTimeContainer = document.getElementById('edit-reminder-time-container');
            const taskModal = document.getElementById('task-modal');
            const closeModal = document.getElementById('close-modal');
            const deleteTaskBtn = document.getElementById('delete-task');
            const filterAll = document.getElementById('filter-all');
            const filterActive = document.getElementById('filter-active');
            const filterCompleted = document.getElementById('filter-completed');
            
            // Task data
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
            let currentFilter = 'all';
            
            // Initialize
            updateStats();
            renderTasks();
            
            // Event Listeners
            addTaskBtn.addEventListener('click', () => {
                taskFormContainer.classList.remove('hidden');
                taskFormContainer.classList.add('fade-in');
                setTimeout(() => {
                    taskFormContainer.scrollIntoView({ behavior: 'smooth' });
                }, 10);
            });
            
            cancelTaskBtn.addEventListener('click', () => {
                taskFormContainer.classList.add('hidden');
            });
            
            taskForm.addEventListener('submit', (e) => {
                e.preventDefault();
                addNewTask();
            });
            
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('light-theme');
            });
            
            reminderToggle.addEventListener('change', () => {
                reminderTimeContainer.classList.toggle('hidden');
            });
            
            editReminderToggle.addEventListener('change', () => {
                editReminderTimeContainer.classList.toggle('hidden');
            });
            
            closeModal.addEventListener('click', () => {
                taskModal.classList.add('hidden');
            });
            
            deleteTaskBtn.addEventListener('click', () => {
                deleteTask(document.getElementById('edit-task-id').value);
            });
            
            filterAll.addEventListener('click', () => {
                filterTasks('all');
            });
            
            filterActive.addEventListener('click', () => {
                filterTasks('active');
            });
            
            filterCompleted.addEventListener('click', () => {
                filterTasks('completed');
            });
            
            // Functions
            function addNewTask() {
                const name = document.getElementById('task-name').value;
                const dueDate = document.getElementById('due-date').value;
                const priority = document.getElementById('priority').value;
                const reminderEnabled = document.getElementById('reminder-toggle').checked;
                const reminderTime = reminderEnabled ? document.getElementById('reminder-time').value : null;
                
                if (!name) return;
                
                const newTask = {
                    id: Date.now(),
                    name,
                    dueDate,
                    priority,
                    reminderEnabled,
                    reminderTime,
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                
                tasks.push(newTask);
                saveTasks();
                updateStats();
                renderTasks();
                
                // Reset form
                taskForm.reset();
                taskFormContainer.classList.add('hidden');
            }
            
            function editTask(taskId) {
                const task = tasks.find(t => t.id === taskId);
                if (!task) return;
                
                document.getElementById('edit-task-id').value = task.id;
                document.getElementById('edit-task-name').value = task.name;
                document.getElementById('edit-due-date').value = task.dueDate;
                document.getElementById('edit-priority').value = task.priority;
                document.getElementById('edit-reminder-toggle').checked = task.reminderEnabled;
                document.getElementById('edit-reminder-time').value = task.reminderTime || '';
                
                // Show/hide reminder time
                if (task.reminderEnabled) {
                    editReminderTimeContainer.classList.remove('hidden');
                } else {
                    editReminderTimeContainer.classList.add('hidden');
                }
                
                taskModal.classList.remove('hidden');
                taskModal.classList.add('fade-in');
            }
            
            function updateTask(taskId) {
                const task = tasks.find(t => t.id === taskId);
                if (!task) return;
                
                task.name = document.getElementById('edit-task-name').value;
                task.dueDate = document.getElementById('edit-due-date').value;
                task.priority = document.getElementById('edit-priority').value;
                task.reminderEnabled = document.getElementById('edit-reminder-toggle').checked;
                task.reminderTime = task.reminderEnabled ? document.getElementById('edit-reminder-time').value : null;
                
                saveTasks();
                updateStats();
                renderTasks();
                taskModal.classList.add('hidden');
            }
            
            function deleteTask(taskId) {
                tasks = tasks.filter(t => t.id !== taskId);
                saveTasks();
                updateStats();
                renderTasks();
                taskModal.classList.add('hidden');
            }
            
            function toggleTaskCompletion(taskId) {
                const task = tasks.find(t => t.id === taskId);
                if (!task) return;
                
                task.completed = !task.completed;
                saveTasks();
                updateStats();
                renderTasks();
            }
            
            function saveTasks() {
                localStorage.setItem('tasks', JSON.stringify(tasks));
            }
            
            function updateStats() {
                totalTasksEl.textContent = tasks.length;
                completedTasksEl.textContent = tasks.filter(t => t.completed).length;
                pendingTasksEl.textContent = tasks.filter(t => !t.completed).length;
            }
            
            function filterTasks(filter) {
                currentFilter = filter;
                renderTasks();
            }
            
            function renderTasks() {
                taskList.innerHTML = '';
                
                const filteredTasks = tasks.filter(task => {
                    if (currentFilter === 'active') return !task.completed;
                    if (currentFilter === 'completed') return task.completed;
                    return true;
                });
                
                if (filteredTasks.length === 0) {
                    emptyState.classList.remove('hidden');
                    return;
                }
                
                emptyState.classList.add('hidden');
                
                filteredTasks.forEach(task => {
                    const taskElement = document.createElement('div');
                    taskElement.className = `task-item bg-[var(--color-surface-dark)] rounded-lg p-4 cursor-pointer ${task.priority} ${task.completed ? 'completed-task' : ''}`;
                    
                    // Check if task has reminder and is due soon
                    let reminderBadge = '';
                    if (task.reminderEnabled) {
                        const now = new Date();
                        const reminderTime = new Date(task.reminderTime);
                        const timeDiff = reminderTime - now;
                        const minutesDiff = Math.floor(timeDiff / 60000);
                        
                        if (minutesDiff >= 0 && minutesDiff <= 15) {
                            reminderBadge = '<span class="reminder-badge inline-block w-3 h-3 rounded-full bg-[var(--color-accent)] mr-2"></span>';
                        }
                    }
                    
                    taskElement.innerHTML = `
                        <div class="flex items-start">
                            <div class="flex items-center h-5 mt-0.5">
                                <input type="checkbox" ${task.completed ? 'checked' : ''} 
                                    onchange="toggleTaskCompletion(${task.id})" 
                                    class="w-4 h-4 text-[var(--color-primary)] rounded focus:ring-[var(--color-primary)]">
                            </div>
                            <div class="ml-3 flex-1">
                                <div class="flex items-center justify-between">
                                    <h4 class="font-medium">${task.name}</h4>
                                    <div class="flex space-x-2">
                                        ${reminderBadge}
                                        <span class="text-xs px-2 py-1 rounded-full ${task.priority === 'high' ? 'bg-red-900 bg-opacity-30 text-red-400' : task.priority === 'medium' ? 'bg-yellow-900 bg-opacity-30 text-yellow-400' : 'bg-green-900 bg-opacity-30 text-green-400'}">
                                            ${task.priority}
                                        </span>
                                    </div>
                                </div>
                                ${task.dueDate ? `<p class="text-sm text-[var(--color-text-muted)] mt-1"><i class="far fa-calendar mr-2"></i> Due: ${new Date(task.dueDate).toLocaleDateString()}</p>` : ''}
                                <div class="flex mt-3 space-x-3">
                                    <button onclick="editTask(${task.id})" class="text-[var(--color-text-muted)] hover:text-[var(--color-primary)]">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button onclick="deleteTask(${task.id})" class="text-[var(--color-text-muted)] hover:text-[var(--color-accent)]">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    taskList.appendChild(taskElement);
                });
            }
            
            // Initialize animations
            const animatedElements = document.querySelectorAll('.animate-on-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, { threshold: 0.1 });
            
            animatedElements.forEach(el => observer.observe(el));
            
            // Set up reminder notifications
            function checkReminders() {
                const now = new Date();
                tasks.forEach(task => {
                    if (task.reminderEnabled && task.reminderTime) {
                        const reminderTime = new Date(task.reminderTime);
                        const timeDiff = reminderTime - now;
                        const minutesDiff = Math.floor(timeDiff / 60000);
                        
                        if (minutesDiff >= 0 && minutesDiff <= 15) {
                            // Show notification
                            if (!task.reminderShown) {
                                task.reminderShown = true;
                                saveTasks();
                                
                                // Create notification
                                const notification = document.createElement('div');
                                notification.className = 'fixed bottom-6 right-6 bg-[var(--color-accent)] text-[var(--color-text-light)] px-6 py-4 rounded-lg shadow-lg flex items-center z-50';
                                notification.innerHTML = `
                                    <i class="fas fa-bell mr-3"></i>
                                    <div>
                                        <p class="font-medium">Reminder: ${task.name}</p>
                                        <p class="text-sm">Due at ${new Date(task.reminderTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>
                                    </div>
                                `;
                                
                                document.body.appendChild(notification);
                                
                                // Remove notification after 5 seconds
                                setTimeout(() => {
                                    notification.classList.add('opacity-0', 'transition-opacity', 'duration-500');
                                    setTimeout(() => {
                                        document.body.removeChild(notification);
                                    }, 500);
                                }, 5000);
                            }
                        }
                    }
                });
            }
            
            // Check reminders every minute
            setInterval(checkReminders, 60000);
            checkReminders();
        });
        
        // Make functions available globally for inline event handlers
        window.toggleTaskCompletion = (taskId) => {
            document.dispatchEvent(new CustomEvent('toggleTaskCompletion', { detail: taskId }));
        };
        
        window.editTask = (taskId) => {
            document.dispatchEvent(new CustomEvent('editTask', { detail: taskId }));
        };
        
        window.deleteTask = (taskId) => {
            document.dispatchEvent(new CustomEvent('deleteTask', { detail: taskId }));
        };
    </script>
</body>
</html>