<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campaign Builder - Marketing Automation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light gray background */
            color: #333;
        }
        .sidebar {
            background-color: #1a202c; /* Dark blue-gray for sidebar */
            color: #e2e8f0; /* Light text for sidebar */
        }
        .main-content {
            background-color: #ffffff;
            color: #333;
        }
        .card {
            background-color: #f1f5f9; /* Lighter gray for cards */
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .btn-primary {
            background-color: #4299e1; /* Blue for primary actions */
            color: white;
        }
        .btn-primary:hover {
            background-color: #3182ce;
        }
        .btn-secondary {
            background-color: #64748b; /* Gray for secondary actions */
            color: white;
        }
        .btn-secondary:hover {
            background-color: #4a5568;
        }
        .tab-button.active {
            background-color: #4299e1; /* Active tab blue */
            color: white;
        }
        .tab-button.active:hover {
            background-color: #3182ce;
        }
        .tab-button:not(.active) {
            background-color: transparent;
            color: #64748b; /* Inactive tab gray */
        }
        .tab-button:not(.active):hover {
            background-color: #e2e8f0; /* Hover for inactive tabs */
            color: #333;
        }
        .draggable-item {
            cursor: grab;
            transition: all 0.1s ease-in-out;
        }
        .draggable-item:active {
            cursor: grabbing;
            transform: scale(1.02);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        .drop-zone {
            border: 2px dashed #a0aec0;
            background-color: #f0f4f8;
            transition: all 0.2s ease-in-out;
        }
        .drop-zone.drag-over {
            border-color: #4299e1;
            background-color: #e6f2ff;
        }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <!-- Sidebar -->
    <aside class="sidebar w-64 p-4 flex flex-col space-y-4 shadow-lg">
        <div class="flex items-center justify-center p-3 rounded-lg bg-blue-700 text-white">
            <i class="fas fa-cogs text-2xl mr-2"></i>
            <span class="text-xl font-bold">Campaign Studio</span>
        </div>
        <nav class="mt-6 space-y-2">
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600 transition-colors">
                <i class="fas fa-tachometer-alt w-5 h-5 mr-3"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600 transition-colors">
                <i class="fas fa-file-alt w-5 h-5 mr-3"></i>
                <span>Reports</span>
            </a>
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600 transition-colors">
                <i class="fas fa-users w-5 h-5 mr-3"></i>
                <span>Contacts</span>
            </a>
        </nav>
        <div class="mt-6">
            <h3 class="text-sm font-semibold text-blue-300 mb-2">Campaigns</h3>
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600 transition-colors">
                <i class="fas fa-plus w-5 h-5 mr-3"></i>
                <span>Create New Campaign</span>
            </a>
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600 transition-colors">
                <i class="fas fa-eye w-5 h-5 mr-3"></i>
                <span>View All Campaigns</span>
            </a>
        </div>
        <div class="mt-auto pt-4 border-t border-gray-700">
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600 transition-colors">
                <i class="fas fa-cog w-5 h-5 mr-3"></i>
                <span>Settings</span>
            </a>
        </div>
    </aside>

    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Top Bar -->
        <header class="bg-white shadow-sm p-4 flex items-center justify-between z-10">
            <h1 class="text-2xl font-bold">Campaign Builder: "New Product Launch"</h1>
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <input type="text" placeholder="Search..." class="p-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                </div>
                <button class="flex items-center text-gray-600 hover:text-blue-600">
                    <i class="fas fa-bell w-5 h-5 mr-2"></i>
                    <span class="text-sm">Notifications</span>
                </button>
                <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-semibold">JD</div>
            </div>
        </header>

        <!-- Campaign Builder Workspace -->
        <main class="flex-1 overflow-auto p-6 space-y-6">
            <!-- Tabs for Campaign Elements -->
            <div class="flex border-b border-gray-200">
                <button class="tab-button active px-6 py-3 text-sm font-medium rounded-t-lg">
                    <i class="fas fa-envelope mr-2"></i> Email Workflow
                </button>
                <button class="tab-button px-6 py-3 text-sm font-medium rounded-t-lg">
                    <i class="fas fa-star mr-2"></i> Lead Scoring
                </button>
                <button class="tab-button px-6 py-3 text-sm font-medium rounded-t-lg">
                    <i class="fas fa-robot mr-2"></i> Automation Logic
                </button>
                <button class="tab-button px-6 py-3 text-sm font-medium rounded-t-lg">
                    <i class="fas fa-users-cog mr-2"></i> Segments
                </button>
            </div>

            <!-- Email Workflow Section (Main Content) -->
            <section id="email-workflow-section" class="card p-6 rounded-lg">
                <h2 class="text-xl font-semibold mb-4">Email Workflow: "New Product Launch - Series"</h2>
                <p class="text-sm text-gray-600 mb-6">This workflow will send a series of emails to your contacts about the new product launch.</p>

                <!-- Workflow Canvas (Drag & Drop Area) -->
                <div id="workflow-canvas" class="drop-zone p-4 rounded-lg border-2 border-dashed border-gray-300 h-96 flex items-center justify-center text-gray-400">
                    <p>Drag and drop workflow elements here</p>
                    <p class="mt-2 text-sm">or click to add elements</p>
                </div>

                <!-- Available Elements (Sidebar) -->
                <div class="mt-6">
                    <h3 class="text-lg font-semibold mb-3">Available Elements</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="p-4 bg-white rounded-md shadow-sm border border-gray-200 draggable-item" draggable="true" data-type="trigger">
                            <i class="fas fa-play-circle text-blue-500 text-2xl mb-2"></i>
                            <p class="font-medium">Trigger: Contact Opens Email</p>
                            <p class="text-xs text-gray-500">Starts when a contact opens an email.</p>
                        </div>
                        <div class="p-4 bg-white rounded-md shadow-sm border border-gray-200 draggable-item" draggable="true" data-type="send-email">
                            <i class="fas fa-envelope text-green-500 text-2xl mb-2"></i>
                            <p class="font-medium">Action: Send Email</p>
                            <p class="text-xs text-gray-500">Send a new email to a list of contacts.</p>
                        </div>
                        <div class="p-4 bg-white rounded-md shadow-sm border border-gray-200 draggable-item" draggable="true" data-type="wait">
                            <i class="fas fa-clock text-orange-500 text-2xl mb-2"></i>
                            <p class="font-medium">Wait: Delay</p>
                            <p class="text-xs text-gray-500">Pause the workflow for a specified time.</p>
                        </div>
                        <div class="p-4 bg-white rounded-md shadow-sm border border-gray-200 draggable-item" draggable="true" data-type="segment">
                            <i class="fas fa-users text-purple-500 text-2xl mb-2"></i>
                            <p class="font-medium">Segment: Contact Group</p>
                            <p class="text-xs text-gray-500">Filter contacts based on criteria.</p>
                        </div>
                        <div class="p-4 bg-white rounded-md shadow-sm border border-gray-200 draggable-item" draggable="true" data-type="score">
                            <i class="fas fa-star text-yellow-500 text-2xl mb-2"></i>
                            <p class="font-medium">Action: Assign Score</p>
                            <p class="text-xs text-gray-500">Assign a score to contacts based on their behavior.</p>
                        </div>
                        <div class="p-4 bg-white rounded-md shadow-sm border border-gray-200 draggable-item" draggable="true" data-type="end">
                            <i class="fas fa-stop-circle text-red-500 text-2xl mb-2"></i>
                            <p class="font-medium">End: End Workflow</p>
                            <p class="text-xs text-gray-500">Mark the workflow as complete.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Lead Scoring Section (Hidden by default) -->
            <section id="lead-scoring-section" class="card p-6 rounded-lg hidden">
                <h2 class="text-xl font-semibold mb-4">Lead Scoring: "Product Interest"</h2>
                <p class="text-sm text-gray-600 mb-6">Define how you'll score your contacts based on their interactions and attributes.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold mb-3">Define Scoring Criteria</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 bg-white rounded-md border border-gray-200">
                                <label class="flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                                    <span class="ml-2">Contact Opens Product Page</span>
                                </label>
                                <input type="number" value="50" class="w-24 border border-gray-300 rounded-md p-1 text-right">
                            </div>
                            <div class="flex items-center justify-between p-3 bg-white rounded-md border border-gray-200">
                                <label class="flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                                    <span class="ml-2">Contact Clicks Product Image</span>
                                </label>
                                <input type="number" value="30" class="w-24 border border-gray-300 rounded-md p-1 text-right">
                            </div>
                            <div class="flex items-center justify-between p-3 bg-white rounded-md border border-gray-200">
                                <label class="flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                                    <span class="ml-2">Contact Subscribes to Newsletter</span>
                                </label>
                                <input type="number" value="20" class="w-24 border border-gray-300 rounded-md p-1 text-right">
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-3">Scoring Rules</h3>
                        <div class="space-y-4">
                            <div class="p-3 bg-white rounded-md border border-gray-200">
                                <p class="font-medium">If score >= 70, then "High Interest" segment.</p>
                                <p class="text-xs text-gray-500">This contact is a high-potential lead.</p>
                            </div>
                            <div class="p-3 bg-white rounded-md border border-gray-200">
                                <p class="font-medium">If score >= 40, then "Medium Interest" segment.</p>
                                <p class="text-xs text-gray-500">This contact is showing moderate interest.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Automation Logic Section (Hidden by default) -->
            <section id="automation-logic-section" class="card p-6 rounded-lg hidden">
                <h2 class="text-xl font-semibold mb-4">Automation Logic: "Behavior Triggers"</h2>
                <p class="text-sm text-gray-600 mb-6">Set up complex rules for when and how the campaign should run automatically.</p>

                <div class="space-y-4">
                    <div class="p-4 bg-white rounded-md border border-gray-200">
                        <h3 class="font-medium text-lg mb-2">If Contact Opens Product Page</h3>
                        <ul class="list-disc list-inside text-sm text-gray-700">
                            <li>Then: Send "Product Demo" email.</li>
                            <li>And: Assign 50 points to their score.</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-white rounded-md border border-gray-200">
                        <h3 class="font-medium text-lg mb-2">If Contact Subscribes to Newsletter</h3>
                        <ul class="list-disc list-inside text-sm text-gray-700">
                            <li>Then: Add to "New Subscribers" segment.</li>
                            <li>And: Assign 20 points to their score.</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-white rounded-md border border-gray-200">
                        <h3 class="font-medium text-lg mb-2">If Contact Clicks "Learn More" CTA</h3>
                        <ul class="list-disc list-inside text-sm text-gray-700">
                            <li>Then: Send "Learn More About Our Services" email.</li>
                            <li>And: Assign 30 points to their score.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Segments Section (Hidden by default) -->
            <section id="segments-section" class="card p-6 rounded-lg hidden">
                <h2 class="text-xl font-semibold mb-4">Segments: "Targeted Audiences"</h2>
                <p class="text-sm text-gray-600 mb-6">Define specific groups of contacts to target with your campaigns.</p>

                <div class="space-y-4">
                    <div class="p-4 bg-white rounded-md border border-gray-200">
                        <h3 class="font-medium text-lg mb-2">Segment 1: New Subscribers</h3>
                        <p class="text-sm text-gray-700">All contacts who have subscribed to the newsletter within the last 30 days.</p>
                        <button class="mt-2 px-3 py-1 text-sm text-blue-600 hover:text-blue-800">Edit Segment</button>
                    </div>
                    <div class="p-4 bg-white rounded-md border border-gray-200">
                        <h3 class="font-medium text-lg mb-2">Segment 2: High Product Interest</h3>
                        <p class="text-sm text-gray-700">Contacts with a score of 70 or higher from the "Product Interest" scoring.</p>
                        <button class="mt-2 px-3 py-1 text-sm text-blue-600 hover:text-blue-800">Edit Segment</button>
                    </div>
                    <div class="p-4 bg-white rounded-md border border-gray-200">
                        <h3 class="font-medium text-lg mb-2">Segment 3: Active Users</h3>
                        <p class="text-sm text-gray-700">Contacts who have opened an email in the last 7 days.</p>
                        <button class="mt-2 px-3 py-1 text-sm text-blue-600 hover:text-blue-800">Edit Segment</button>
                    </div>
                </div>
            </section>

            <!-- Campaign Controls -->
            <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                <button class="px-6 py-3 rounded-lg text-sm font-medium text-gray-600 hover:text-red-600">
                    <i class="fas fa-trash-alt mr-2"></i> Delete Campaign
                </button>
                <button class="px-6 py-3 rounded-lg text-sm font-medium btn-primary">
                    <i class="fas fa-save mr-2"></i> Save Campaign
                </button>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const sections = document.querySelectorAll('section');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Deactivate all buttons
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    // Activate clicked button
                    button.classList.add('active');

                    // Hide all sections
                    sections.forEach(section => section.classList.add('hidden'));
                    // Show the corresponding section
                    const targetSectionId = button.textContent.trim().replace(/[\s\-\+]/g, '_').replace(/[\s\-\+]/g, '') + '-section';
                    document.getElementById(targetSectionId).classList.remove('hidden');
                });
            });

            // Drag and Drop for Workflow Elements (Simple implementation)
            const workflowCanvas = document.getElementById('workflow-canvas');
            let draggedItem = null;

            document.querySelectorAll('.draggable-item').forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    draggedItem = e.target;
                    e.dataTransfer.effectAllowed = 'copy';
                    e.dataTransfer.setData('text/plain', e.target.dataset.type);
                });

                item.addEventListener('dragend', () => {
                    draggedItem = null;
                });
            });

            workflowCanvas.addEventListener('dragover', (e) => {
                e.preventDefault(); // Necessary to allow drop
                workflowCanvas.classList.add('drag-over');
            });

            workflowCanvas.addEventListener('dragleave', () => {
                workflowCanvas.classList.remove('drag-over');
            });

            workflowCanvas.addEventListener('drop', (e) => {
                e.preventDefault();
                workflowCanvas.classList.remove('drag-over');
                if (draggedItem) {
                    workflowCanvas.innerHTML += `
                        <div class="p-4 bg-blue-100 text-blue-800 rounded-md shadow-sm text-sm">
                            <p class="font-medium">Added: ${draggedItem.dataset.type}</p>
                            <p class="text-xs">Drag to reorder or add new elements.</p>
                        </div>
                    `;
                    draggedItem.classList.remove('dragging'); // Optional: remove dragging class
                }
            });

            // Basic drag and drop for available elements (reordering within available elements)
            const availableElements = document.querySelectorAll('.draggable-item');
            let currentDraggingElement = null;

            availableElements.forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    currentDraggingElement = e.target;
                    e.dataTransfer.effectAllowed = 'move';
                });

                item.addEventListener('dragend', () => {
                    currentDraggingElement = null;
                });

                // Reordering logic for available elements
                item.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    const rect = item.getBoundingClientRect();
                    const midY = rect.top + rect.height / 2;
                    if (e.clientY < midY) {
                        item.style.borderTop = '2px solid #4299e1';
                        item.style.borderBottom = 'none';
                    } else {
                        item.style.borderBottom = '2px solid #4299e1';
                        item.style.borderTop = 'none';
                    }
                });

                item.addEventListener('dragleave', (e) => {
                    item.style.borderTop = 'none';
                    item.style.borderBottom = 'none';
                });

                item.addEventListener('drop', (e) => {
                    e.preventDefault();
                    item.style.borderTop = 'none';
                    item.style.borderBottom = 'none';
                    if (currentDraggingElement) {
                        const parent = item.parentNode;
                        const draggedRect = currentDraggingElement.getBoundingClientRect();
                        const midY = draggedRect.top + draggedRect.height / 2;

                        if (e.clientY < midY) {
                            parent.insertBefore(currentDraggingElement, item);
                        } else {
                            parent.insertBefore(currentDraggingElement, item.nextSibling);
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>